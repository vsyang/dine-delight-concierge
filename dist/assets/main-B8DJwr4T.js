import"./base-DQM_IlgI.js";import{g as c}from"./restaurant-CdretbXj.js";const l=["Pizza","Burgers","Sushi","Tacos","Thai","Indian","Chinese","BBQ","Vegan","Desserts","Coffee","Breakfast"],o=document.getElementById("surpriseBtn"),i=e=>e[Math.floor(Math.random()*e.length)],m=e=>Array.isArray(e)?e:Array.isArray(e?.data)?e.data:[];function g(){const t=document.getElementById("zip")?.value?.trim();return t&&localStorage.setItem("ddc:lastZip",t),t||localStorage.getItem("ddc:lastZip")||"80233"}async function p(){const e=g(),t=i(l);console.log(`[surprise] Trying category="${t}" near ${e} â€¦`);try{const s=await c({address:e,resName:t}),n=m(s);if(!n.length){console.warn(`[surprise] No items for "${t}" near ${e}.`);return}const r=i(n),a={name:r?.name||"Unnamed item",price:r?.price||"",rating:r?.rating||"",imageUrl:r?.imageUrl||"",category:t,zip:e,ts:Date.now()};localStorage.setItem("ddc:pick",JSON.stringify(a)),console.log("[surprise] Random meal pick:",a)}catch(s){console.error("[surprise] Fetch failed:",s)}}o&&o.addEventListener("click",e=>{e.preventDefault(),p()});
